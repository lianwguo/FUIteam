---
title: "R Notebook"
output: html_notebook
---

#mercury data frames
DFfl25miA <- as.data.frame(fl25miA)
DFfl100miA <- as.data.frame(fl100miA)
DFfl25miB <- as.data.frame(fl25miB)
DFfl100miB <- as.data.frame(fl100miB)
DFla25miA <- as.data.frame(la25miAsw)
DFla100miA <- as.data.frame(la100miAsw)
DFla25miBA <- as.data.frame(la25miBAsw)
DFla100miBA <- as.data.frame(la100miBAsw)

#relevant mrip data
landOtimA
landOtimB
landTtimA
landTtimB

```{r}
#isolate species, biomass, landings, per site - FLorida

DFfl25miA$Whole_weight <- as.numeric(DFfl25miA$Whole_weight)
DFfl25miA$TL <- as.numeric(DFfl25miA$TL)

str(DFfl25miA)

mercFL25miA <- DFfl25miA %>% 
  group_by(INTSITE,Species) %>% 
  summarise(n = n(), aveWt = mean(Whole_weight, na.rm = TRUE), 
            aveLt = mean(TL, na.rm = TRUE), aveHg = mean(Hg, na.rm = TRUE))

mercFL25miA 

DFfl100miA$Whole_weight <- as.numeric(DFfl100miA$Whole_weight)
DFfl100miA$TL <- as.numeric(DFfl100miA$TL)

mercFL100miA <- DFfl100miA %>% 
  group_by(INTSITE,Species) %>% 
  summarise(n = n(), aveWt = mean(Whole_weight, na.rm = TRUE), 
            aveLt = mean(TL, na.rm = TRUE), aveHg = mean(Hg, na.rm = TRUE))

mercFL100miA 

DFfl25miB$Whole_weight <- as.numeric(DFfl25miB$Whole_weight)
DFfl25miB$TL <- as.numeric(DFfl25miB$TL)

mercFL25miB <- DFfl25miB %>% 
  group_by(INTSITE,Species) %>% 
  summarise(n = n(), aveWt = mean(Whole_weight, na.rm = TRUE), 
            aveLt = mean(TL, na.rm = TRUE), aveHg = mean(Hg, na.rm = TRUE))

mercFL25miB 

DFfl100miB$Whole_weight <- as.numeric(DFfl100miB$Whole_weight)
DFfl100miB$TL <- as.numeric(DFfl100miB$TL)

mercFL100miB <- DFfl100miB %>% 
  group_by(INTSITE,Species) %>% 
  summarise(n = n(), aveWt = mean(Whole_weight, na.rm = TRUE), 
            aveLt = mean(TL, na.rm = TRUE), aveHg = mean(Hg, na.rm = TRUE))

mercFL100miB 

#MRIP
landTtimA
landTtimB

mripFLa <- landTtimA %>% 
  group_by(INTSITE,common) %>% 
  summarise(n = n(), landings = sum(landing), biomass = sum(wgt_ab1, na.rm = TRUE))
mripFLa

mripFLb <- landTtimB %>% 
  group_by(INTSITE,common) %>% 
  summarise(n = n(), landings = sum(landing), biomass = sum(wgt_ab1, na.rm = TRUE))
mripFLb
```

Add in NOLA

```{r}
str(DFla25miA)

mercLA25miA <- DFla25miA %>% 
  group_by(INTSITE,spName) %>% 
  summarise(n = n(), aveWt = mean(aveWt_g, na.rm = TRUE), 
            aveLt = mean(aveLen_cm, na.rm = TRUE), aveHg = mean(HgResult, na.rm = TRUE))
mercLA25miA 

mercLA100miA <- DFla100miA %>% 
  group_by(INTSITE,spName) %>% 
  summarise(n = n(), aveWt = mean(aveWt_g, na.rm = TRUE), 
            aveLt = mean(aveLen_cm, na.rm = TRUE), aveHg = mean(HgResult, na.rm = TRUE))
mercLA100miA 

mercLA25miBA <- DFla25miBA %>% 
  group_by(INTSITE,spName) %>% 
  summarise(n = n(), aveWt = mean(aveWt_g, na.rm = TRUE), 
            aveLt = mean(aveLen_cm, na.rm = TRUE), aveHg = mean(HgResult, na.rm = TRUE))
mercLA25miBA 

mercLA100miBA <- DFla100miBA %>% 
  group_by(INTSITE,spName) %>% 
  summarise(n = n(), aveWt = mean(aveWt_g, na.rm = TRUE), 
            aveLt = mean(aveLen_cm, na.rm = TRUE), aveHg = mean(HgResult, na.rm = TRUE))
mercLA100miBA 

#MRIP
mripLAa <- landOtimA %>% 
  group_by(INTSITE,common) %>% 
  summarise(n = n(), landings = sum(landing), biomass = sum(wgt_ab1, na.rm = TRUE))
mripLAa

mripLAb <- landOtimB %>% 
  group_by(INTSITE,common) %>% 
  summarise(n = n(), landings = sum(landing), biomass = sum(wgt_ab1, na.rm = TRUE))
mripLAb

```
Try to indicate which entries are tested in mrip

```{r}
str(landOtimA)
str(mercLA25miA)
unique(mercLA25miA$spName)

#top sites = 222, 231, 306, 155, 151, within 25 mi
unique(mercLA25miA$INTSITE)
unique(landOtimA$INTSITE)
O222a25 <- subset(mercLA25miA,mercLA25miA$INTSITE == '222')
O231a25 <- subset(mercLA25miA,mercLA25miA$INTSITE == '231')
O306a25 <- subset(mercLA25miA,mercLA25miA$INTSITE == '306')
O155a25 <- subset(mercLA25miA,mercLA25miA$INTSITE == '155')
O151a25 <- subset(mercLA25miA,mercLA25miA$INTSITE == '151')

indLA25a222 <- which((landOtimA$common %in% O222a25$spName) & (landOtimA$INTSITE == '222'))
str(indLA25a222)
landOtimA[indLA25a222,]

landOtimA$testStatus25mi <- rep('NA', nrow(landOtimA))
landOtimA$testStatus25mi[indLA25a222] <- 'Tested'

indLA25a231 <- which((landOtimA$common %in% O231a25$spName) & (landOtimA$INTSITE == '231'))
str(indLA25a231)
landOtimA[indLA25a231,]
landOtimA$testStatus25mi[indLA25a231] <- 'Tested'

indLA25a306 <- which((landOtimA$common %in% O306a25$spName) & (landOtimA$INTSITE == '306'))
str(indLA25a306)
landOtimA[indLA25a306,]
landOtimA$testStatus25mi[indLA25a306] <- 'Tested'

indLA25a155 <- which((landOtimA$common %in% O155a25$spName) & (landOtimA$INTSITE == '155'))
str(indLA25a155)
landOtimA[indLA25a155,]
landOtimA$testStatus25mi[indLA25a155] <- 'Tested'

indLA25a151 <- which((landOtimA$common %in% O151a25$spName) & (landOtimA$INTSITE == '151'))
str(indLA25a151)
landOtimA[indLA25a151,]
landOtimA$testStatus25mi[indLA25a151] <- 'Tested'

landOtimA$testStatus25mi[landOtimA$testStatus25mi %in% 'NA'] <- 'Not Tested'

#top sites = 222, 231, 306, 155, 151, within 100 mi
unique(mercLA100miA$INTSITE)
unique(mercLA100miA$spName)
unique(landOtimA$INTSITE)
O222a100 <- subset(mercLA100miA,mercLA100miA$INTSITE == '222')
O231a100 <- subset(mercLA100miA,mercLA100miA$INTSITE == '231')
O306a100 <- subset(mercLA100miA,mercLA100miA$INTSITE == '306')
O155a100 <- subset(mercLA100miA,mercLA100miA$INTSITE == '155')
O151a100 <- subset(mercLA100miA,mercLA100miA$INTSITE == '151')

indLA100a222 <- which((landOtimA$common %in% O222a100$spName) & (landOtimA$INTSITE == '222'))
str(indLA100a222)
landOtimA[indLA100a222,]

landOtimA$testStatus100mi <- rep('NA', nrow(landOtimA))
landOtimA$testStatus100mi[indLA100a222] <- 'Tested'

indLA100a231 <- which((landOtimA$common %in% O231a100$spName) & (landOtimA$INTSITE == '231'))
str(indLA100a231)
landOtimA[indLA100a231,]
landOtimA$testStatus100mi[indLA100a231] <- 'Tested'

indLA100a306 <- which((landOtimA$common %in% O306a100$spName) & (landOtimA$INTSITE == '306'))
str(indLA100a306)
landOtimA[indLA100a306,]
landOtimA$testStatus100mi[indLA100a306] <- 'Tested'

indLA100a155 <- which((landOtimA$common %in% O155a100$spName) & (landOtimA$INTSITE == '155'))
str(indLA100a155)
landOtimA[indLA100a155,]
landOtimA$testStatus100mi[indLA100a155] <- 'Tested'

indLA100a151 <- which((landOtimA$common %in% O151a100$spName) & (landOtimA$INTSITE == '151'))
str(indLA100a151)
landOtimA[indLA100a151,]
landOtimA$testStatus100mi[indLA100a151] <- 'Tested'

landOtimA$testStatus100mi[landOtimA$testStatus100mi %in% 'NA'] <- 'Not Tested'

landOtimA

LAaProp25mi <- landOtimA %>%
  group_by(INTSITE, testStatus25mi) %>%
  summarise(n_distinct(common), landings = sum(landing), biomass = sum(wgt_ab1))

LAaProp100mi <- landOtimA %>%
  group_by(INTSITE, testStatus100mi) %>%
  summarise(n_distinct(common), landings = sum(landing), biomass = sum(wgt_ab1))
```


Add a new chunk by clicking the *Insert Chunk* button on the toolbar or by pressing *Ctrl+Alt+I*.

When you save the notebook, an HTML file containing the code and output will be saved alongside it (click the *Preview* button or press *Ctrl+Shift+K* to preview the HTML file).

The preview shows you a rendered HTML copy of the contents of the editor. Consequently, unlike *Knit*, *Preview* does not run any R code chunks. Instead, the output of the chunk when it was last run in the editor is displayed.
